<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Thu Apr 06 22:32:53 BST 2023 -->
<title>NopRaftStore (MicroRaft 0.6 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-04-06">
<meta name="description" content="declaration: package: io.microraft.persistence, class: NopRaftStore">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/NopRaftStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">io.microraft.persistence</a></div>
<h1 title="Class NopRaftStore" class="title">Class NopRaftStore</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">io.microraft.persistence.NopRaftStore</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">NopRaftStore</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></span></div>
<div class="block">Used when a Raft node works transiently (its state is not persisted).</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">NopRaftStore</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deleteSnapshotChunks(long,int)" class="member-name-link">deleteSnapshotChunks</a><wbr>(long&nbsp;logIndex,
 int&nbsp;snapshotChunkCount)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Deletes persisted snapshot chunks at the given log index.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#flush()" class="member-name-link">flush</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Forces all buffered (in any layer) Raft log changes to be written to the
 storage and returns after those changes are written.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#persistAndFlushInitialGroupMembers(io.microraft.model.log.RaftGroupMembersView)" class="member-name-link">persistAndFlushInitialGroupMembers</a><wbr>(io.microraft.model.log.RaftGroupMembersView&nbsp;initialGroupMembers)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Persists and flushes the given initial Raft group members.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#persistAndFlushLocalEndpoint(io.microraft.model.persistence.RaftEndpointPersistentState)" class="member-name-link">persistAndFlushLocalEndpoint</a><wbr>(io.microraft.model.persistence.RaftEndpointPersistentState&nbsp;localEndpointPersistentState)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Persists and flushes the given local Raft endpoint and its voting flag.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#persistAndFlushTerm(io.microraft.model.persistence.RaftTermPersistentState)" class="member-name-link">persistAndFlushTerm</a><wbr>(io.microraft.model.persistence.RaftTermPersistentState&nbsp;termPersistentState)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Persists the term and the Raft endpoint that the local Raft node voted for in
 the given term.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#persistLogEntries(java.util.List)" class="member-name-link">persistLogEntries</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;io.microraft.model.log.LogEntry&gt;&nbsp;logEntries)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Persists the given log entries.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#persistSnapshotChunk(io.microraft.model.log.SnapshotChunk)" class="member-name-link">persistSnapshotChunk</a><wbr>(io.microraft.model.log.SnapshotChunk&nbsp;snapshotChunk)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Persists the given snapshot chunk.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#truncateLogEntriesFrom(long)" class="member-name-link">truncateLogEntriesFrom</a><wbr>(long&nbsp;logIndexInclusive)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Rolls back the log by truncating all entries starting with the given index.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#truncateLogEntriesUntil(long)" class="member-name-link">truncateLogEntriesUntil</a><wbr>(long&nbsp;logIndexInclusive)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">MicroRaft calls this method after it successfully persists and flushes a
 snapshot.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>NopRaftStore</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">NopRaftStore</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="persistAndFlushLocalEndpoint(io.microraft.model.persistence.RaftEndpointPersistentState)">
<h3>persistAndFlushLocalEndpoint</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">persistAndFlushLocalEndpoint</span><wbr><span class="parameters">(@Nonnull
 io.microraft.model.persistence.RaftEndpointPersistentState&nbsp;localEndpointPersistentState)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="RaftStore.html#persistAndFlushLocalEndpoint(io.microraft.model.persistence.RaftEndpointPersistentState)">RaftStore</a></code></span></div>
<div class="block">Persists and flushes the given local Raft endpoint and its voting flag.
 <p>
 When this method returns, all the provided data has become durable.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="RaftStore.html#persistAndFlushLocalEndpoint(io.microraft.model.persistence.RaftEndpointPersistentState)">persistAndFlushLocalEndpoint</a></code>&nbsp;in interface&nbsp;<code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>localEndpointPersistentState</code> - the local endpoint state to be persisted</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="persistAndFlushInitialGroupMembers(io.microraft.model.log.RaftGroupMembersView)">
<h3>persistAndFlushInitialGroupMembers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">persistAndFlushInitialGroupMembers</span><wbr><span class="parameters">(@Nonnull
 io.microraft.model.log.RaftGroupMembersView&nbsp;initialGroupMembers)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="RaftStore.html#persistAndFlushInitialGroupMembers(io.microraft.model.log.RaftGroupMembersView)">RaftStore</a></code></span></div>
<div class="block">Persists and flushes the given initial Raft group members.
 <p>
 When this method returns, all the provided data has become durable.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="RaftStore.html#persistAndFlushInitialGroupMembers(io.microraft.model.log.RaftGroupMembersView)">persistAndFlushInitialGroupMembers</a></code>&nbsp;in interface&nbsp;<code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>initialGroupMembers</code> - the initial Raft group member list to persist</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="persistAndFlushTerm(io.microraft.model.persistence.RaftTermPersistentState)">
<h3>persistAndFlushTerm</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">persistAndFlushTerm</span><wbr><span class="parameters">(@Nonnull
 io.microraft.model.persistence.RaftTermPersistentState&nbsp;termPersistentState)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="RaftStore.html#persistAndFlushTerm(io.microraft.model.persistence.RaftTermPersistentState)">RaftStore</a></code></span></div>
<div class="block">Persists the term and the Raft endpoint that the local Raft node voted for in
 the given term.
 <p>
 When this method returns, all the provided data has become durable.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="RaftStore.html#persistAndFlushTerm(io.microraft.model.persistence.RaftTermPersistentState)">persistAndFlushTerm</a></code>&nbsp;in interface&nbsp;<code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>termPersistentState</code> - the term state to be persisted</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="persistLogEntries(java.util.List)">
<h3>persistLogEntries</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">persistLogEntries</span><wbr><span class="parameters">(@Nonnull
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;io.microraft.model.log.LogEntry&gt;&nbsp;logEntries)</span>
                       throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="RaftStore.html#persistLogEntries(java.util.List)">RaftStore</a></code></span></div>
<div class="block">Persists the given log entries.
 <p>
 Log entries are appended to the Raft log with sequential log indices. The
 first log index is 1.
 <p>
 A block of consecutive log entries has no gaps in the indices, but a gap can
 appear between a snapshot entry and its preceding regular log entry. This
 happens in an edge case where a follower has fallen so far behind that the
 missing entries are no longer available from the leader. In that case the
 leader will send its snapshot entry instead.
 <p>
 In another rare failure scenario, MicroRaft can delete a range of the latest
 entries which are uncommitted and roll back to a previous log index which is
 known to be committed. Consider the following case where Raft persists 3 log
 entries and then deletes entries from index=2:
 <ul>
 <li>persistLogEntries(1, 2, 3)
 <li>truncateLogEntriesFrom(2)
 </ul>
 After this call sequence log indices will remain sequential and the next
 persistLogEntries() call will be for <em>index=2</em>.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="RaftStore.html#persistLogEntries(java.util.List)">persistLogEntries</a></code>&nbsp;in interface&nbsp;<code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>logEntries</code> - the list of log entries to be persisted</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if any failure occurs during persisting the given log entry</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="RaftStore.html#flush()"><code>RaftStore.flush()</code></a></li>
<li><a href="RaftStore.html#persistSnapshotChunk(io.microraft.model.log.SnapshotChunk)"><code>RaftStore.persistSnapshotChunk(SnapshotChunk)</code></a></li>
<li><a href="RaftStore.html#truncateLogEntriesFrom(long)"><code>RaftStore.truncateLogEntriesFrom(long)</code></a></li>
<li><a href="../RaftConfig.html" title="class in io.microraft"><code>RaftConfig</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="persistSnapshotChunk(io.microraft.model.log.SnapshotChunk)">
<h3>persistSnapshotChunk</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">persistSnapshotChunk</span><wbr><span class="parameters">(@Nonnull
 io.microraft.model.log.SnapshotChunk&nbsp;snapshotChunk)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="RaftStore.html#persistSnapshotChunk(io.microraft.model.log.SnapshotChunk)">RaftStore</a></code></span></div>
<div class="block">Persists the given snapshot chunk.
 <p>
 A snapshot is persisted with at least 1 chunk. The number of chunks in a
 snapshot is provided via <code>SnapshotChunk.getSnapshotChunkCount()</code>. A
 snapshot is considered to be complete when all of its chunks are provided to
 this method in any order, and <a href="RaftStore.html#flush()"><code>RaftStore.flush()</code></a> will be called afterwards.
 <p>
 MicroRaft takes snapshots at a predetermined interval, controlled by
 <a href="../RaftConfig.html#getCommitCountToTakeSnapshot()"><code>RaftConfig.getCommitCountToTakeSnapshot()</code></a>. For instance, if it is
 100, snapshots will occur at indices 100, 200, 300, and so on.
 <p>
 The snapshot index can lag behind the index of the highest log entry which
 was already persisted and flushed, but there is an upper bound to this
 difference, controlled by <a href="../RaftConfig.html#getMaxPendingLogEntryCount()"><code>RaftConfig.getMaxPendingLogEntryCount()</code></a>.
 For instance, if it is 10, and a <code>persistSnapshot()</code> call is made with
 <em>snapshotIndex=100</em>, the index of the preceding
 <code>persistLogEntries()</code> call can be at most 110.
 <p>
 On the other hand, the snapshot index can also be ahead of the highest log
 entry. This can happen when a Raft follower has fallen so far behind the
 leader and the leader no longer holds the missing entries. In that case, the
 follower receives a snapshot from the leader. There is no upper-bound on the
 gap between the highest log entry and the index of the received snapshot.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="RaftStore.html#persistSnapshotChunk(io.microraft.model.log.SnapshotChunk)">persistSnapshotChunk</a></code>&nbsp;in interface&nbsp;<code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>snapshotChunk</code> - the snapshot chunk object to persist</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="RaftStore.html#flush()"><code>RaftStore.flush()</code></a></li>
<li><a href="RaftStore.html#persistLogEntries(java.util.List)"><code>RaftStore.persistLogEntries(List)</code></a></li>
<li><a href="../RaftConfig.html" title="class in io.microraft"><code>RaftConfig</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="truncateLogEntriesFrom(long)">
<h3>truncateLogEntriesFrom</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">truncateLogEntriesFrom</span><wbr><span class="parameters">(long&nbsp;logIndexInclusive)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="RaftStore.html#truncateLogEntriesFrom(long)">RaftStore</a></code></span></div>
<div class="block">Rolls back the log by truncating all entries starting with the given index. A
 truncated log entry is no longer valid and must not be restored (or at least
 must be ignored during the restore process).
 <p>
 There is an upper-bound on the number of persisted log entries that can be
 truncated afterwards, which is specified by
 <a href="../RaftConfig.html#getMaxPendingLogEntryCount()"><code>RaftConfig.getMaxPendingLogEntryCount()</code></a> + 1. Say that it is 5 and the
 highest persisted log entry index is 20. Then, at most 5 highest entries can
 be truncated, hence truncation can start at index=16 or higher.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="RaftStore.html#truncateLogEntriesFrom(long)">truncateLogEntriesFrom</a></code>&nbsp;in interface&nbsp;<code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>logIndexInclusive</code> - the log index value from which the log entries must be truncated</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="RaftStore.html#flush()"><code>RaftStore.flush()</code></a></li>
<li><a href="RaftStore.html#persistLogEntries(java.util.List)"><code>RaftStore.persistLogEntries(List)</code></a></li>
<li><a href="../RaftConfig.html" title="class in io.microraft"><code>RaftConfig</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="truncateLogEntriesUntil(long)">
<h3>truncateLogEntriesUntil</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">truncateLogEntriesUntil</span><wbr><span class="parameters">(long&nbsp;logIndexInclusive)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="RaftStore.html#truncateLogEntriesUntil(long)">RaftStore</a></code></span></div>
<div class="block">MicroRaft calls this method after it successfully persists and flushes a
 snapshot. This method is used for deleting log entries that are before the
 snapshot index and are not needed to be restored.

 This is merely an optimization method and its side-effects can be sync'ed to
 the storage when <a href="RaftStore.html#flush()"><code>RaftStore.flush()</code></a> is called,</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="RaftStore.html#truncateLogEntriesUntil(long)">truncateLogEntriesUntil</a></code>&nbsp;in interface&nbsp;<code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>logIndexInclusive</code> - the log index value until which the log entries must be truncated</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteSnapshotChunks(long,int)">
<h3>deleteSnapshotChunks</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">deleteSnapshotChunks</span><wbr><span class="parameters">(long&nbsp;logIndex,
 int&nbsp;snapshotChunkCount)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="RaftStore.html#deleteSnapshotChunks(long,int)">RaftStore</a></code></span></div>
<div class="block">Deletes persisted snapshot chunks at the given log index.

 MicroRaft calls this method when it detects that it needs to start installing
 a newer snapshot while there is a snapshot persisted partially. Those
 snapshot chunks are no longer valid and must not be restored (or at least
 must be ignored during the restore process).

 This is merely an optimization method and its side-effects can be sync'ed to
 the storage when <a href="RaftStore.html#flush()"><code>RaftStore.flush()</code></a> is called.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="RaftStore.html#deleteSnapshotChunks(long,int)">deleteSnapshotChunks</a></code>&nbsp;in interface&nbsp;<code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
<dt>Parameters:</dt>
<dd><code>logIndex</code> - the log index value at which some snapshot chunks are persisted.</dd>
<dd><code>snapshotChunkCount</code> - the number of snapshot chunks that could have been persisted.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="flush()">
<h3>flush</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">flush</span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="RaftStore.html#flush()">RaftStore</a></code></span></div>
<div class="block">Forces all buffered (in any layer) Raft log changes to be written to the
 storage and returns after those changes are written.
 <p>
 When this method returns, all the changes previously done via the other
 methods have become durable.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="RaftStore.html#flush()">flush</a></code>&nbsp;in interface&nbsp;<code><a href="RaftStore.html" title="interface in io.microraft.persistence">RaftStore</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list-long">
<li><a href="RaftStore.html#persistLogEntries(java.util.List)"><code>RaftStore.persistLogEntries(List)</code></a></li>
<li><a href="RaftStore.html#persistSnapshotChunk(io.microraft.model.log.SnapshotChunk)"><code>RaftStore.persistSnapshotChunk(SnapshotChunk)</code></a></li>
<li><a href="RaftStore.html#deleteSnapshotChunks(long,int)"><code>RaftStore.deleteSnapshotChunks(long, int)</code></a></li>
<li><a href="RaftStore.html#truncateLogEntriesFrom(long)"><code>RaftStore.truncateLogEntriesFrom(long)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2023 <a href="https://microraft.io/">MicroRaft</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
